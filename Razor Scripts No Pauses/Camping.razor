if not timerexists '_camping'
    createtimer '_camping'
endif

settimer '_camping' 0
overhead "::: preparing to lite :::" 15
overhead "::: a campfire :::" 15

//Will timeout 4 minutes after fire is lit and restart.
while timer '_camping' < 240000
        
    if timer '_camping' > 4000 and timer '_camping' < 4250
        // 3553 is kindling
        if not findtype 3553 true
            overhead "::: you're out of kindling :::" 33
        endif
        //3553 is kindling
        if findtype 3553 true
            dclicktype 'kindling' true
        overhead "::: starting a fire :::" 55         
        endif
        
    endif  
    
    if insysmsg 'You fail to ignite the campfire.'
        settimer '_camping' 0
    endif
    if insysmsg "The world is saving." and timer '_camping' < 10000
        settimer '_camping' 0
    endif
    if timer '_camping' > 10000 and timer '_camping' < 10250
        overhead "::: you lit a campfire :::" 33
    endif
         
endwhile
replay